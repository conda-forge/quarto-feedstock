From d9bcceb9fd51b736c72b2d41052f6aee05cccfed Mon Sep 17 00:00:00 2001
From: Michael Sarahan <msarahan@gmail.com>
Date: Tue, 30 Aug 2022 08:58:52 -0500
Subject: [PATCH 1/1] more debugging around file writing

---
 src/command/check/check.ts | 5 +++--
 src/core/temp.ts           | 1 +
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/command/check/check.ts b/src/command/check/check.ts
index a804acf..f7df530 100644
--- a/src/command/check/check.ts
+++ b/src/command/check/check.ts
@@ -70,6 +70,7 @@ async function checkInstall(services: RenderServices) {
     doneMessage: kMessage + "OK\n",
   }, async () => {
     const mdPath = services.temp.createFile({ suffix: "check.md" });
+    console.log("Writing to tempfile:", mdPath);
     Deno.writeTextFileSync(
       mdPath,
       `
@@ -80,10 +81,10 @@ title: "Title"
 ## Header
 `,
     );
-    console.info("Awaiting test markdown render...");
+    console.log("Wrote successfully");
     const result = await render(mdPath, {
       services,
-      flags: { quiet: false },
+      flags: { quiet: true },
     });
     if (result.error) {
       throw result.error;
diff --git a/src/core/temp.ts b/src/core/temp.ts
index f28b773..5038fe8 100644
--- a/src/core/temp.ts
+++ b/src/core/temp.ts
@@ -61,6 +61,7 @@ export function createTempContext(options?: Deno.MakeTempOptions) {
   });
   return {
     createFile: (options?: Deno.MakeTempOptions) => {
+      console.info("Creating temp file in " + dir);
       return Deno.makeTempFileSync({ ...options, dir });
     },
     createDir: (options?: Deno.MakeTempOptions) => {
-- 
2.34.1

